# Поведенческие
[Поведенческие паттерны](https://doka.guide/tools/design-patterns-behaviorial/) распределяют ответственность между модулями и определяют, как именно будет происходить общение. Простыми словами — они отвечают на вопрос «Как организовать поведение программного компонента и его общение с другими?»  
Среди поведенческих паттернов можно выделить:  
• [Стратегия (Strategy)](#стратегия)  
• Цепочка ответственности (Chain of responsibility)  
• Команду  
• Наблюдатель  

## Стратегия
Стратегия (англ. strategy) позволяет выбирать и даже менять алгоритм работы в зависимости от ситуации.  

**Пример**  
Допустим, мы пишем приложение-навигатор.  
Когда оно будет прокладывать путь между точками, ему надо будет знать, для кого этот путь: пешехода, велосипедиста, автомобилиста. В зависимости от ситуации мы будем использовать разные алгоритмы и маршруты на карте.  

Для использования стратегии мы объявляем интерфейс, который описывает алгоритмы, из которых мы будем выбирать:  
```javastypescriptcript
interface RouteStrategy {
  findRoute(from: Point, to: Point): Instruction[];
}
```  
Создаём различные варианты построения маршрутов:  
```typescript
const pedestrianRoute: RouteStrategy = {
  findRoute(from, to) {
    // ...Логика построения маршрута для пешехода.
    return [
      /*...*/
    ]
  },
}

const cyclistRoute: RouteStrategy = {
  findRoute(from, to) {
    // ...Логика построения маршрута для велосипедиста.
    return [
      /*...*/
    ]
  },
}

const vehicleRoute: RouteStrategy = {
  findRoute(from, to) {
    // ...Логика построения маршрута для автомобилиста.
    return [
      /*...*/
    ]
  },
}
```  
Чтобы использовать какой-либо из алгоритмов, нам нужен контекст, для которого мы укажем одну из стратегий:  
```typescript
class Context {
  // При создании укажем стратегию, которую будем использовать:
  constructor(private routeFinder: Strategy) {}

  // Иногда полезно менять стратегию во время работы,
  // сделаем метод для этого
  public use(routeFinder: Strategy) {
    this.routeFinder = routeFinder
  }

  public routeFromHomeToWork(): Instruction[] {
    const home: Point = {
      /*...*/
    }
    const work: Point = {
      /*...*/
    }
    return this.routeFinder.findRoute(home, work)
  }
}
```  
Теперь, чтобы построить маршрут от дома до работы на велосипеде, мы укажем:  
```typescript
const strategyContext = new Context(cyclistRoute)
strategyContext.routeFromHomeToWork()
```  
Также мы можем поменять стратегию уже во время выполнения программы (в рантайме), если пользователь, например, слез с велосипеда и пошёл пешком. Метод для построения маршрута останется тем же:  
```typescript
strategyContext.use(pedestrianRoute)
strategyContext.routeFromHomeToWork()
```  
**Когда использовать**
> Используйте стратегию, когда приложение может использовать разные алгоритмы для решения задачи. Особенно полезно использовать её, когда алгоритм может поменяться прямо в рантайме приложения.  

## Цепочка ответственности
Цепочка ответственности (англ. chain of responsibility) подразумевает перебор объектов до тех пор, пока не найдётся нужный для решения задачи.

В цепочке сигнал, который нужно обработать, переходит от одного объекта к другому по очереди. Когда находится подходящий обработчик, он обрабатывает сигнал, а цепочка в этом месте обрывается.